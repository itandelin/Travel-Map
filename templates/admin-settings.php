<?php
/**
 * ÁÆ°ÁêÜÂëòËÆæÁΩÆÈ°µÈù¢Ê®°Êùø
 */

// Èò≤Ê≠¢Áõ¥Êé•ËÆøÈóÆ
if (!defined('ABSPATH')) {
    exit;
}
?>

<div class="travel-map-admin-page">
    <div class="travel-map-admin-header">
        <h1 class="travel-map-admin-title"><?php _e('Travel Map ËÆæÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></h1>
        <p class="travel-map-admin-subtitle"><?php _e('ÈÖçÁΩÆÈ´òÂæ∑Âú∞ÂõæAPIÂíåÂü∫Êú¨ÊòæÁ§∫ÈÄâÈ°π', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
    </div>

    <form method="post" class="travel-map-settings-form">
        <?php wp_nonce_field('travel_map_settings'); ?>
        
        <!-- API ÈÖçÁΩÆ -->
        <div class="travel-map-form-section">
            <h2 class="travel-map-section-title"><?php _e('API ÈÖçÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></h2>
            
            <div class="travel-map-form-row">
                <label for="api_key" class="travel-map-form-label">
                    <?php _e('È´òÂæ∑Âú∞Âõæ API ÂØÜÈí•', TRAVEL_MAP_TEXT_DOMAIN); ?> <span style="color: #dc2626;">*</span>
                </label>
                <input 
                    type="text" 
                    id="travel_map_api_key" 
                    name="api_key" 
                    value="<?php echo esc_attr($api_key); ?>" 
                    class="travel-map-form-input"
                    placeholder="<?php _e('ËØ∑ËæìÂÖ•È´òÂæ∑Âú∞Âõæ Web ÊúçÂä° API ÂØÜÈí•', TRAVEL_MAP_TEXT_DOMAIN); ?>"
                    required
                >
                <p class="travel-map-form-help">
                    <?php _e('ËØ∑Âú®', TRAVEL_MAP_TEXT_DOMAIN); ?> 
                    <a href="https://lbs.amap.com/" target="_blank"><?php _e('È´òÂæ∑ÂºÄÊîæÂπ≥Âè∞', TRAVEL_MAP_TEXT_DOMAIN); ?></a> 
                    <?php _e('Áî≥ËØ∑ Web ÊúçÂä° API ÂØÜÈí•', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </p>
            </div>
        </div>

        <!-- Âú∞ÂõæÊòæÁ§∫ÈÖçÁΩÆ -->
        <div class="travel-map-form-section">
            <h2 class="travel-map-section-title"><?php _e('Âú∞ÂõæÊòæÁ§∫ÈÖçÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></h2>
            
            <div class="travel-map-form-row">
                <label for="default_zoom" class="travel-map-form-label">
                    <?php _e('ÈªòËÆ§Áº©ÊîæÁ∫ßÂà´', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </label>
                <select name="default_zoom" id="default_zoom" class="travel-map-form-select">
                    <?php for ($i = 1; $i <= 18; $i++): ?>
                        <option value="<?php echo $i; ?>" <?php selected($default_zoom, $i); ?>>
                            <?php printf(__('Á∫ßÂà´ %d', TRAVEL_MAP_TEXT_DOMAIN), $i); ?>
                            <?php if ($i <= 4): ?>
                                (<?php _e('‰∏ñÁïåÂú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?>)
                            <?php elseif ($i <= 8): ?>
                                (<?php _e('ÂõΩÂÆ∂Á∫ß', TRAVEL_MAP_TEXT_DOMAIN); ?>)
                            <?php elseif ($i <= 12): ?>
                                (<?php _e('ÂüéÂ∏ÇÁ∫ß', TRAVEL_MAP_TEXT_DOMAIN); ?>)
                            <?php else: ?>
                                (<?php _e('Ë°óÈÅìÁ∫ß', TRAVEL_MAP_TEXT_DOMAIN); ?>)
                            <?php endif; ?>
                        </option>
                    <?php endfor; ?>
                </select>
                <p class="travel-map-form-help">
                    <?php _e('Êé®Ëçê‰ΩøÁî®Á∫ßÂà´ 4-6 ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÁöÑ‰∏ñÁïåÂú∞ÂõæËßÜÂõæ', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </p>
            </div>
            
            <div class="travel-map-form-row">
                <label for="default_center" class="travel-map-form-label">
                    <?php _e('ÈªòËÆ§Âú∞Âõæ‰∏≠ÂøÉÁÇπ', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </label>
                <input 
                    type="text" 
                    id="default_center" 
                    name="default_center" 
                    value="<?php echo esc_attr($default_center); ?>" 
                    class="travel-map-form-input"
                    placeholder="<?php _e('Á∫¨Â∫¶,ÁªèÂ∫¶ (‰æãÂ¶Ç: 35.0,105.0)', TRAVEL_MAP_TEXT_DOMAIN); ?>"
                >
                <p class="travel-map-form-help">
                    <?php _e('Ê†ºÂºèÔºöÁ∫¨Â∫¶,ÁªèÂ∫¶„ÄÇÈªòËÆ§‰∏∫‰∏≠ÂõΩÂú∞ÁêÜ‰∏≠ÂøÉ', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </p>
            </div>
        </div>

        <!-- ÂäüËÉΩÈÄâÈ°π -->
        <div class="travel-map-form-section">
            <h2 class="travel-map-section-title"><?php _e('ÂäüËÉΩÈÄâÈ°π', TRAVEL_MAP_TEXT_DOMAIN); ?></h2>
            
            <div class="travel-map-form-row">
                <label class="travel-map-form-checkbox">
                    <input 
                        type="checkbox" 
                        name="show_filter_tabs" 
                        value="1" 
                        <?php checked($show_filter_tabs); ?>
                    >
                    <span><?php _e('ÊòæÁ§∫Á≠õÈÄâÊ†áÁ≠æÊ†è', TRAVEL_MAP_TEXT_DOMAIN); ?></span>
                </label>
                <p class="travel-map-form-help">
                    <?php _e('Âú®Âú∞Âõæ‰∏äÊñπÊòæÁ§∫"ÂÖ®ÈÉ®"„ÄÅ"Â∑≤Âéª"„ÄÅ"ÊÉ≥Âéª"„ÄÅ"ËÆ°Âàí"Á≠õÈÄâÊ†áÁ≠æ', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </p>
            </div>
        </div>

        <!-- Ê†áËÆ∞Ê†∑ÂºèÈÖçÁΩÆ -->
        <div class="travel-map-form-section">
            <h2 class="travel-map-section-title"><?php _e('Ê†áËÆ∞Ê†∑ÂºèÈÖçÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></h2>
            
            <div class="travel-map-form-row">
                <label for="visited_color" class="travel-map-form-label">
                    <?php _e('Â∑≤ÂéªÂú∞ÁÇπÈ¢úËâ≤', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </label>
                <input 
                    type="color" 
                    id="visited_color" 
                    name="visited_color" 
                    value="<?php echo esc_attr(get_option('travel_map_visited_color', '#FF6B35')); ?>" 
                    class="travel-map-form-input"
                    style="width: 60px; height: 40px; padding: 4px;"
                >
            </div>
            
            <div class="travel-map-form-row">
                <label for="want_to_go_color" class="travel-map-form-label">
                    <?php _e('ÊÉ≥ÂéªÂú∞ÁÇπÈ¢úËâ≤', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </label>
                <input 
                    type="color" 
                    id="want_to_go_color" 
                    name="want_to_go_color" 
                    value="<?php echo esc_attr(get_option('travel_map_want_to_go_color', '#3B82F6')); ?>" 
                    class="travel-map-form-input"
                    style="width: 60px; height: 40px; padding: 4px;"
                >
            </div>
            
            <div class="travel-map-form-row">
                <label for="planned_color" class="travel-map-form-label">
                    <?php _e('ËÆ°ÂàíÂú∞ÁÇπÈ¢úËâ≤', TRAVEL_MAP_TEXT_DOMAIN); ?>
                </label>
                <input 
                    type="color" 
                    id="planned_color" 
                    name="planned_color" 
                    value="<?php echo esc_attr(get_option('travel_map_planned_color', '#10B981')); ?>" 
                    class="travel-map-form-input"
                    style="width: 60px; height: 40px; padding: 4px;"
                >
            </div>
        </div>

        <!-- ‰øùÂ≠òÊåâÈíÆ -->
        <div style="padding-top: 20px;">
            <input type="submit" name="submit" class="button-primary" value="<?php _e('‰øùÂ≠òËÆæÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?>">
        </div>
    </form>

    <!-- ‰ΩøÁî®ËØ¥Êòé -->
    <div class="travel-map-form-section">
        <h2 class="travel-map-section-title"><?php _e('‰ΩøÁî®ËØ¥Êòé', TRAVEL_MAP_TEXT_DOMAIN); ?></h2>
        
        <!-- Âø´ÈÄüÂºÄÂßã -->
        <div class="travel-map-usage-card">
            <div class="travel-map-usage-header">
                <div class="travel-map-usage-icon">üöÄ</div>
                <h3><?php _e('Âø´ÈÄüÂºÄÂßã', TRAVEL_MAP_TEXT_DOMAIN); ?></h3>
            </div>
            <div class="travel-map-usage-content">
                <div class="travel-map-step">
                    <span class="travel-map-step-number">1</span>
                    <div class="travel-map-step-content">
                        <h4><?php _e('ÈÖçÁΩÆAPIÂØÜÈí•', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <p><?php _e('Âú®‰∏äÊñπËæìÂÖ•ÊÇ®ÁöÑÈ´òÂæ∑Âú∞ÂõæAPIÂØÜÈí•Âπ∂‰øùÂ≠òËÆæÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                </div>
                <div class="travel-map-step">
                    <span class="travel-map-step-number">2</span>
                    <div class="travel-map-step-content">
                        <h4><?php _e('Ê∑ªÂä†Âú∞ÁÇπÊ†áËÆ∞', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <p><?php _e('ÂâçÂæÄ', TRAVEL_MAP_TEXT_DOMAIN); ?> <a href="<?php echo admin_url('admin.php?page=travel-map-coordinates'); ?>"><?php _e('ÂùêÊ†áÁÆ°ÁêÜ', TRAVEL_MAP_TEXT_DOMAIN); ?></a> <?php _e('È°µÈù¢Ê∑ªÂä†ÊÇ®ÁöÑÊóÖË°åÂú∞ÁÇπ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                </div>
                <div class="travel-map-step">
                    <span class="travel-map-step-number">3</span>
                    <div class="travel-map-step-content">
                        <h4><?php _e('ÊòæÁ§∫Âú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <p><?php _e('Âú®È°µÈù¢ÊàñÊñáÁ´†‰∏≠‰ΩøÁî®Áü≠‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?> <code>[travel_map]</code> <?php _e('ÊòæÁ§∫Âú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Áü≠‰ª£Á†ÅÂèÇÊï∞ -->
        <div class="travel-map-usage-card">
            <div class="travel-map-usage-header">
                <div class="travel-map-usage-icon">‚öôÔ∏è</div>
                <h3><?php _e('Áü≠‰ª£Á†ÅÂèÇÊï∞', TRAVEL_MAP_TEXT_DOMAIN); ?></h3>
            </div>
            <div class="travel-map-usage-content">
                <div class="travel-map-params-grid">
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">width</div>
                        <div class="travel-map-param-desc"><?php _e('Âú∞ÂõæÂÆΩÂ∫¶', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: 100%', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">width="800px"</div>
                    </div>
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">height</div>
                        <div class="travel-map-param-desc"><?php _e('Âú∞ÂõæÈ´òÂ∫¶', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: 500px', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">height="600px"</div>
                    </div>
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">zoom</div>
                        <div class="travel-map-param-desc"><?php _e('Áº©ÊîæÁ∫ßÂà´ (1-18)', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: ÈÖçÁΩÆÂÄº', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">zoom="6"</div>
                    </div>
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">center</div>
                        <div class="travel-map-param-desc"><?php _e('Âú∞Âõæ‰∏≠ÂøÉÁÇπÂùêÊ†á', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: ÈÖçÁΩÆÂÄº', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">center="39.9,116.4"</div>
                    </div>
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">status</div>
                        <div class="travel-map-param-desc"><?php _e('ÊòæÁ§∫ÁöÑÂú∞ÁÇπÁä∂ÊÄÅ', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: all', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">status="visited"</div>
                    </div>
                    <div class="travel-map-param">
                        <div class="travel-map-param-name">filter_tabs</div>
                        <div class="travel-map-param-desc"><?php _e('ÊòØÂê¶ÊòæÁ§∫Á≠õÈÄâÊ†áÁ≠æ', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-default"><?php _e('ÈªòËÆ§: true', TRAVEL_MAP_TEXT_DOMAIN); ?></div>
                        <div class="travel-map-param-example">filter_tabs="false"</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Âú∞ÁÇπÁä∂ÊÄÅËØ¥Êòé -->
        <div class="travel-map-usage-card">
            <div class="travel-map-usage-header">
                <div class="travel-map-usage-icon">üìç</div>
                <h3><?php _e('Âú∞ÁÇπÁä∂ÊÄÅËØ¥Êòé', TRAVEL_MAP_TEXT_DOMAIN); ?></h3>
            </div>
            <div class="travel-map-usage-content">
                <div class="travel-map-status-grid">
                    <div class="travel-map-status-item">
                        <div class="travel-map-status-badge visited">Â∑≤Âéª</div>
                        <div class="travel-map-status-info">
                            <h4><?php _e('Â∑≤Âéª (visited)', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('Â∑≤ËÆøÈóÆÁöÑÂú∞ÊñπÔºåÂèØÂÖ≥ËÅîÊóÖË°åÊñáÁ´†ÔºåÁÇπÂáªÊòæÁ§∫ÊñáÁ´†ËØ¶ÊÉÖ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                    <div class="travel-map-status-item">
                        <div class="travel-map-status-badge want_to_go">ÊÉ≥Âéª</div>
                        <div class="travel-map-status-info">
                            <h4><?php _e('ÊÉ≥Âéª (want_to_go)', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('ÊóÖË°åÊÑøÊúõÊ∏ÖÂçïÔºåÂèØËÆæÁΩÆÊÉ≥ÂéªÁêÜÁî±ÔºåÁÇπÂáªÊòæÁ§∫ÁÆÄÊ¥Å‰ø°ÊÅØ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                    <div class="travel-map-status-item">
                        <div class="travel-map-status-badge planned">ËÆ°Âàí</div>
                        <div class="travel-map-status-info">
                            <h4><?php _e('ËÆ°Âàí (planned)', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('Â∑≤Âà∂ÂÆöËÆ°ÂàíÁöÑÊóÖË°åÔºåÂèØËÆæÁΩÆËÆ°ÂàíÊó•ÊúüÔºåÁÇπÂáªÊòæÁ§∫ËÆ°ÂàíËØ¶ÊÉÖ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰ΩøÁî®Á§∫‰æã -->
        <div class="travel-map-usage-card">
            <div class="travel-map-usage-header">
                <div class="travel-map-usage-icon">üí°</div>
                <h3><?php _e('‰ΩøÁî®Á§∫‰æã', TRAVEL_MAP_TEXT_DOMAIN); ?></h3>
            </div>
            <div class="travel-map-usage-content">
                <div class="travel-map-examples">
                    <div class="travel-map-example">
                        <h4><?php _e('Âü∫Á°ÄÂú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map]</code>
                            <button class="travel-map-copy-btn" data-copy="[travel_map]" title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('ÊòæÁ§∫ÊâÄÊúâÂú∞ÁÇπÁöÑÂü∫Á°ÄÂú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                    
                    <div class="travel-map-example">
                        <h4><?php _e('Â§ßÂ∞∫ÂØ∏Âú∞Âõæ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map height="700px" zoom="3"]</code>
                            <button class="travel-map-copy-btn" data-copy='[travel_map height=&quot;700px&quot; zoom=&quot;3&quot;]' title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('È´òÂ∫¶700pxÁöÑÂ§ßÂ∞∫ÂØ∏Âú∞ÂõæÔºåÁº©ÊîæÁ∫ßÂà´3', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                    
                    <div class="travel-map-example">
                        <h4><?php _e('Âè™ÊòæÁ§∫Â∑≤ÂéªÂú∞ÁÇπ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map status="visited" filter_tabs="false"]</code>
                            <button class="travel-map-copy-btn" data-copy='[travel_map status=&quot;visited&quot; filter_tabs=&quot;false&quot;]' title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('Âè™ÊòæÁ§∫Â∑≤ÂéªÁöÑÂú∞ÁÇπÔºåÈöêËóèÁ≠õÈÄâÊ†áÁ≠æ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                    
                    <div class="travel-map-example">
                        <h4><?php _e('ËÅöÁÑ¶ÁâπÂÆöÂå∫Âüü', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map center="39.9,116.4" zoom="6" height="600px"]</code>
                            <button class="travel-map-copy-btn" data-copy='[travel_map center=&quot;39.9,116.4&quot; zoom=&quot;6&quot; height=&quot;600px&quot;]' title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('ËÅöÁÑ¶Âåó‰∫¨Âú∞Âå∫Ôºà‰∏≠ÂõΩÔºâÔºåÈÄÇÂêàÂ±ïÁ§∫ÁâπÂÆöÂå∫ÂüüÁöÑÊóÖË°åË∂≥Ëøπ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                    
                    <div class="travel-map-example">
                        <h4><?php _e('Âè™ÊòæÁ§∫ÊÉ≥ÂéªÂú∞ÁÇπ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map status="want_to_go" height="500px"]</code>
                            <button class="travel-map-copy-btn" data-copy='[travel_map status=&quot;want_to_go&quot; height=&quot;500px&quot;]' title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('‰ªÖÊòæÁ§∫ÊÉ≥ÂéªÁöÑÂú∞ÁÇπÔºåÂ±ïÁ§∫ÊóÖË°åÊÑøÊúõÊ∏ÖÂçï', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                    
                    <div class="travel-map-example">
                        <h4><?php _e('ËÆ°Âàí‰∏≠ÁöÑÊóÖË°å', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                        <div class="travel-map-code-block">
                            <code>[travel_map status="planned" filter_tabs="false"]</code>
                            <button class="travel-map-copy-btn" data-copy='[travel_map status=&quot;planned&quot; filter_tabs=&quot;false&quot;]' title="<?php _e('Â§çÂà∂‰ª£Á†Å', TRAVEL_MAP_TEXT_DOMAIN); ?>">üìã</button>
                        </div>
                        <p class="travel-map-example-desc"><?php _e('ÊòæÁ§∫Â∑≤Âà∂ÂÆöËÆ°ÂàíÁöÑÊóÖË°åÂú∞ÁÇπÔºåÈöêËóèÁ≠õÈÄâÊ†áÁ≠æ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÆûÁî®ÊäÄÂ∑ß -->
        <div class="travel-map-usage-card">
            <div class="travel-map-usage-header">
                <div class="travel-map-usage-icon">üéØ</div>
                <h3><?php _e('ÂÆûÁî®ÊäÄÂ∑ß', TRAVEL_MAP_TEXT_DOMAIN); ?></h3>
            </div>
            <div class="travel-map-usage-content">
                <div class="travel-map-tips">
                    <div class="travel-map-tip">
                        <div class="travel-map-tip-icon">‚ú®</div>
                        <div class="travel-map-tip-content">
                            <h4><?php _e('Âú∞ÁÇπÂëΩÂêçÂª∫ËÆÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('‰ΩøÁî®Ê∏ÖÊô∞ÊòéÁ°ÆÁöÑÂú∞ÁÇπÂêçÁß∞ÔºåÂ¶Ç"Âåó‰∫¨Â§©ÂÆâÈó®ÂπøÂú∫"„ÄÅ"Ê≥ïÂõΩÂ∑¥ÈªéÂüÉËè≤Â∞îÈìÅÂ°î"ÔºåÈÅøÂÖç‰ΩøÁî®Ê®°Á≥äÁöÑÊèèËø∞', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                    <div class="travel-map-tip">
                        <div class="travel-map-tip-icon">üîó</div>
                        <div class="travel-map-tip-content">
                            <h4><?php _e('ÊñáÁ´†ÂÖ≥ËÅîÂäüËÉΩ', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('ÂèëÂ∏ÉÊóÖË°åÊñáÁ´†Êó∂ÔºåÁ≥ªÁªü‰ºöËá™Âä®Ê£ÄÊµãÂú∞ÂêçÂπ∂Âª∫ËÆÆÂÖ≥ËÅîÂà∞Âú∞ÁÇπÊ†áËÆ∞„ÄÇÊÇ®‰πüÂèØ‰ª•ÊâãÂä®ÂÖ≥ËÅîÂ§öÁØáÊñáÁ´†Âà∞Âêå‰∏ÄÂú∞ÁÇπ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                    <div class="travel-map-tip">
                        <div class="travel-map-tip-icon">üì±</div>
                        <div class="travel-map-tip-content">
                            <h4><?php _e('ÁßªÂä®Á´ØÈÄÇÈÖç', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('Âú∞Âõæ‰ºöËá™Âä®ÈÄÇÈÖçÁßªÂä®ËÆæÂ§áÔºåÂª∫ËÆÆÂú®ÁßªÂä®Á´Ø‰ΩøÁî®ËæÉÂ∞èÁöÑÈ´òÂ∫¶ÂÄºÔºåÂ¶Ç400pxÔºå‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊòæÁ§∫ÊïàÊûú', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                    <div class="travel-map-tip">
                        <div class="travel-map-tip-icon">üé®</div>
                        <div class="travel-map-tip-content">
                            <h4><?php _e('‰∏ªÈ¢òÈÄÇÈÖç', TRAVEL_MAP_TEXT_DOMAIN); ?></h4>
                            <p><?php _e('Âú∞Âõæ‰ºöËá™Âä®ÈÄÇÈÖçÊÇ®ÁöÑÁΩëÁ´ô‰∏ªÈ¢òÈ¢úËâ≤Ê®°ÂºèÔºàÊµÖËâ≤/Ê∑±Ëâ≤ÔºâÔºåÊó†ÈúÄÊâãÂä®ÈÖçÁΩÆ', TRAVEL_MAP_TEXT_DOMAIN); ?></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// API ÂØÜÈí•È™åËØÅ
jQuery(document).ready(function($) {
    $('#travel_map_api_key').on('blur', function() {
        const apiKey = $(this).val().trim();
        if (apiKey) {
            $('.travel-map-api-status').remove();
            $(this).after('<span class="travel-map-api-status checking">È™åËØÅ‰∏≠...</span>');
            
            setTimeout(function() {
                $('.travel-map-api-status').remove();
                if (apiKey.length > 20) {
                    $('#travel_map_api_key').after('<span class="travel-map-api-status valid">‚úì APIÂØÜÈí•Ê†ºÂºèÊ≠£Á°Æ</span>');
                } else {
                    $('#travel_map_api_key').after('<span class="travel-map-api-status invalid">‚úó APIÂØÜÈí•Ê†ºÂºè‰∏çÊ≠£Á°Æ</span>');
                }
            }, 1000);
        }
    });
    
    // ‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÂ§ÑÁêÜÂ§çÂà∂ÊåâÈíÆÁÇπÂáª
    $(document).on('click', '.travel-map-copy-btn', function(e) {
        e.preventDefault();
        const textToCopy = $(this).attr('data-copy');
        if (textToCopy) {
            copyToClipboard(textToCopy);
        }
    });
});

// Â§çÂà∂‰ª£Á†ÅÂäüËÉΩ
function copyToClipboard(text) {
    if (navigator.clipboard && window.isSecureContext) {
        // ‰ΩøÁî®Áé∞‰ª£ Clipboard API
        navigator.clipboard.writeText(text).then(function() {
            showCopySuccess();
        }).catch(function(err) {
            fallbackCopyTextToClipboard(text);
        });
    } else {
        // ÂõûÈÄÄÊñπÊ°à
        fallbackCopyTextToClipboard(text);
    }
}

function fallbackCopyTextToClipboard(text) {
    var textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed";
    textArea.style.top = "0";
    textArea.style.left = "0";
    textArea.style.width = "2em";
    textArea.style.height = "2em";
    textArea.style.padding = "0";
    textArea.style.border = "none";
    textArea.style.outline = "none";
    textArea.style.boxShadow = "none";
    textArea.style.background = "transparent";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
        var successful = document.execCommand('copy');
        if (successful) {
            showCopySuccess();
        } else {
            showCopyError();
        }
    } catch (err) {
        showCopyError();
    }
    
    document.body.removeChild(textArea);
}

function showCopySuccess() {
    // Âà†Èô§Áé∞ÊúâÁöÑÊèêÁ§∫
    jQuery('.travel-map-copy-message').remove();
    
    // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫
    var message = jQuery('<div class="travel-map-copy-message success">‚úì ‰ª£Á†ÅÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø</div>');
    jQuery('body').append(message);
    
    // 2ÁßíÂêéËá™Âä®Ê∂àÂ§±
    setTimeout(function() {
        message.fadeOut(function() {
            message.remove();
        });
    }, 2000);
}

function showCopyError() {
    // Âà†Èô§Áé∞ÊúâÁöÑÊèêÁ§∫
    jQuery('.travel-map-copy-message').remove();
    
    // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫
    var message = jQuery('<div class="travel-map-copy-message error">‚úó Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÊâãÂä®Â§çÂà∂</div>');
    jQuery('body').append(message);
    
    // 3ÁßíÂêéËá™Âä®Ê∂àÂ§±
    setTimeout(function() {
        message.fadeOut(function() {
            message.remove();
        });
    }, 3000);
}
</script>